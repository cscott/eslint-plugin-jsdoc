{"version":3,"sources":["../../src/rules/checkTypes.js"],"names":["targetTags","targetTagAliases","concat","strictNativeTypes","jsdoc","jsdocNode","sourceCode","report","jsdocTags","filter","tags","tag","includes","forEach","jsdocTag","some","strictNativeType","toLowerCase","type","fix","fixer","replaceText","getText","replace","name"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,IAAIA,aAAa,CACf,OADe,EAEf,UAFe,EAGf,MAHe,EAIf,QAJe,EAKf,QALe,EAMf,WANe,EAOf,OAPe,EAQf,UARe,EASf,SATe,EAUf,QAVe,EAWf,MAXe,EAYf,SAZe,CAAjB;;AAeA,IAAMC,mBAAmB,CACvB,aADuB,EAEvB,OAFuB,EAGvB,KAHuB,EAIvB,KAJuB,EAKvB,UALuB,EAMvB,MANuB,EAOvB,QAPuB,EAQvB,WARuB,CAAzB;;AAWAD,aAAaA,WAAWE,MAAX,CAAkBD,gBAAlB,CAAb;;AAEA,IAAME,oBAAoB,CACxB,SADwB,EAExB,QAFwB,EAGxB,QAHwB,EAIxB,OAJwB,EAKxB,QALwB,EAMxB,QANwB,EAOxB,MAPwB,EAQxB,UARwB,CAA1B;;kBAWe,4BAAa,gBAKtB;AAAA,MAJJC,KAII,QAJJA,KAII;AAAA,MAHJC,SAGI,QAHJA,SAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,MACI,QADJA,MACI;;AACJ,MAAMC,YAAY,iBAAEC,MAAF,CAASL,MAAMM,IAAf,EAAqB,UAACC,GAAD,EAAS;AAC9C,WAAO,iBAAEC,QAAF,CAAWZ,UAAX,EAAuBW,IAAIA,GAA3B,CAAP;AACD,GAFiB,CAAlB;;AAIA,mBAAEE,OAAF,CAAUL,SAAV,EAAqB,UAACM,QAAD,EAAc;AACjC,qBAAEC,IAAF,CAAOZ,iBAAP,EAA0B,UAACa,gBAAD,EAAsB;AAC9C,UAAIA,iBAAiBC,WAAjB,OAAmCH,SAASI,IAAT,CAAcD,WAAd,EAAnC,IAAkED,qBAAqBF,SAASI,IAApG,EAA0G;AACxG,YAAMC,MAAM,SAANA,GAAM,CAACC,KAAD,EAAW;AACrB,iBAAOA,MAAMC,WAAN,CAAkBhB,SAAlB,EAA6BC,WAAWgB,OAAX,CAAmBjB,SAAnB,EAA8BkB,OAA9B,CAAsC,MAAMT,SAASI,IAAf,GAAsB,GAA5D,EAAiE,MAAMF,gBAAN,GAAyB,GAA1F,CAA7B,CAAP;AACD,SAFD;;AAIAT,eAAO,oBAAoBO,SAASH,GAA7B,GAAmC,IAAnC,GAA0CG,SAASU,IAAnD,GAA0D,UAA1D,GAAuEV,SAASI,IAAhF,GAAuF,IAA9F,EAAoGC,GAApG;;AAEA,eAAO,IAAP;AACD;;AAED,aAAO,KAAP;AACD,KAZD;AAaD,GAdD;AAeD,CAzBc,C","file":"checkTypes.js","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from './../iterateJsdoc';\n\nlet targetTags = [\n  'class',\n  'constant',\n  'enum',\n  'member',\n  'module',\n  'namespace',\n  'param',\n  'property',\n  'returns',\n  'throws',\n  'type',\n  'typedef'\n];\n\nconst targetTagAliases = [\n  'constructor',\n  'const',\n  'var',\n  'arg',\n  'argument',\n  'prop',\n  'return',\n  'exception'\n];\n\ntargetTags = targetTags.concat(targetTagAliases);\n\nconst strictNativeTypes = [\n  'boolean',\n  'number',\n  'string',\n  'Array',\n  'Object',\n  'RegExp',\n  'Date',\n  'Function'\n];\n\nexport default iterateJsdoc(({\n  jsdoc,\n  jsdocNode,\n  sourceCode,\n  report\n}) => {\n  const jsdocTags = _.filter(jsdoc.tags, (tag) => {\n    return _.includes(targetTags, tag.tag);\n  });\n\n  _.forEach(jsdocTags, (jsdocTag) => {\n    _.some(strictNativeTypes, (strictNativeType) => {\n      if (strictNativeType.toLowerCase() === jsdocTag.type.toLowerCase() && strictNativeType !== jsdocTag.type) {\n        const fix = (fixer) => {\n          return fixer.replaceText(jsdocNode, sourceCode.getText(jsdocNode).replace('{' + jsdocTag.type + '}', '{' + strictNativeType + '}'));\n        };\n\n        report('Invalid JSDoc @' + jsdocTag.tag + ' \"' + jsdocTag.name + '\" type \"' + jsdocTag.type + '\".', fix);\n\n        return true;\n      }\n\n      return false;\n    });\n  });\n});\n"]}